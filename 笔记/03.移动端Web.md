[TOC]

# 第一章、移动Web开发之流式布局

## 1.1、移动端基础

1. 浏览器现状

   - PC端常见浏览器

     360浏览器、谷歌浏览器、火狐浏览器、QQ浏览 器、百度浏览器、搜狗浏览器、IE浏览器。

     <img src="E:\笔记\图片\微信截图_20221118083918.png" style="zoom: 70%;" />

     ​	

   - 移动端常见浏览器

     UC浏览器，QQ浏览器，欧朋浏览器， 百度手机浏览器，360安全浏览器，谷歌 浏览器，搜狗手机浏览器，猎豹浏览器 ，以及其他杂牌浏览器。

   国内的UC和QQ，百度等手机浏览器都是根据Webkit修改过来的内核，国内尚无自主研发的内核，就像国内的手 机操作系统都是基于Android修改开发的一样。

   > 总结：兼容移动端主流浏览器，处理Webkit内核浏览器即可。

2. 手机屏幕现状

   - 移动端设备屏幕尺寸非常多，碎片化严重。
   - Android设备有多种分辨率：480x800, 480x854, 540x960, 720x1280，1080x1920等，还有传说中的2K，4k屏。
   - 近年来iPhone的碎片化也加剧了，其设备的主要分辨率有：640x960, 640x1136, 750x1334, 1242x2208等。
   - 作为开发者无需关注这些分辨率，因为我们常用的尺寸单位是 px 。

3. 移动端调试方法

   -  Chrome DevTools（谷歌浏览器）的模拟手机调试
   - 搭建本地web服务器，手机和服务器一个局域网内，通过手机访问服务器
   - 使用外网服务器，直接IP或域名访问

## 1.2、视口

==视口（viewport）==就是浏览器显示页面内容的屏幕区域。 视口可以分为布局视口、视觉视口和理想视口

### 1.2.1、布局视口 layout viewport

-  一般移动设备的浏览器都默认设置了一个布局视口，用于解决早期的PC端页面在手机上显示的问题。
- iOS, Android基本都将这个视口分辨率设置为 980px，所以PC上的网页大多都能在手机上呈现，只不过元 素看上去很小，一般默认可以通过手动缩放网页。

<img src="E:\笔记\图片\微信截图_20221118085412.png" style="zoom:65%;" />

### 1.2.2、视觉视口 visual viewport

- 字面意思，它是用户正在看到的网站的区域。注意：是网站的区域。
- 我们可以通过缩放去操作视觉视口，但不会影响布局视口，布局视口仍保持原来的宽度。

<img src="E:\笔记\图片\微信截图_20221118085554.png" style="zoom:65%;" />

### 1.2.3、理想视口 ideal viewport

- 为了使网站在移动端有最理想的浏览和阅读宽度而设定
- 理想视口，对设备来讲，是最理想的视口尺寸
- ==需要手动添写meta视口标签通知浏览器操作==
- meta视口标签的主要目的：==布局视口的宽度应该与理想视口的宽度一致，简单理解就是设备有多宽，我们布 局的视口就多宽==



### 1.2.4、meta视口标签

~~~html
<meta name="viewport" content="width=device-width, user-scalable=no, 
initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
~~~

| 属性          | 解释说明                                             |
| ------------- | ---------------------------------------------------- |
| width         | 宽度设置的是viewport宽度，可以设置device-width特殊值 |
| initial-scale | 初始缩放比，大于0的数字                              |
| maximum-scale | 最大缩放比，大于0的数字                              |
| minimum-scale | 最小缩放比，大于0的数字                              |
| user-scalable | 用户是否可以缩放，yes或no（1或0）                    |

### 1.2.5、标准的viewport设置

- 视口宽度和设备保持一致 `name="viewport"`
- 视口的默认缩放比例1.0 `initial-scale=1.0`
- 不允许用户自行缩放 `user-scalable=no`
- 最大允许的缩放比例1.0 `maximum-scale=1.0`
- 最小允许的缩放比例1.0 `minimum-scale=1.0`



## 1.3、二倍图

- 对于一张 50px * 50px 的图片,在手机 Retina 屏中打开，按照刚才的物理像素比会放大倍数，这样会造成图片模糊
- 在标准的viewport设置中，使用倍图来提高图片质量，解决在高清设备中的模糊问题
- 通常使用二倍图，因为iPhone 6\7\8 的影响,但是现在还存在3倍图4倍图的情况，这个看实际开发公司需求
- 背景图片 注意缩放问题

~~~css
/* 在 iphone8 下面 */
 img{
 /*原始图片100*100px*/
 width: 50px;
 height: 50px;
 } 
.box{
 /*原始图片100*100px*/
 background-size: 50px 50px;
 }
~~~

> **背景缩放：background-size**

background-size 属性规定背景图像的尺寸

语法：

`background-size: 背景图片宽度 背景图片高度;`

- 单位： 长度|百分比|cover|contain;
- cover把背景图像扩展至足够大，以使背景图像完全覆盖背景区域。
- contain把图像图像扩展至最大尺寸，以使其宽度和高度完全适应内容区域

## 1.4、移动端开发选择

移动端布局和PC端有所区别：

### 1.4.1、单独制作移动端页面（主流）

- 流式布局（百分比布局）
- flex 弹性布局（强烈推荐）
- less+rem+媒体查询布局
- 混合布局

### 1.4.2、响应式页面兼容移动端（其次）

- 媒体查询
- bootstarp

## 1.5、移动端技术解决方案

### 1.5.1、移动端浏览器

移动端浏览器基本以 webkit 内核为主，因此我们就考虑webkit兼容性问题。

我们可以放心使用 H5 标签和 CSS3 样式。

同时我们浏览器的私有前缀我们只需要考虑添加 webkit 即可

<img src="E:\笔记\图片\微信截图_20221118112624.png" style="zoom:80%;" />

### 1.5.2、CSS初始化 normalize.css

移动端初始化推荐使用 normalize.css/

- Normalize.css：保护了有价值的默认值
- Normalize.css：修复了浏览器的bug
- Normalize.css：是模块化的
- Normalize.css：拥有详细的文档

官网地址：[Normalize.css: Make browsers render all elements more consistently. (necolas.github.io)](http://necolas.github.io/normalize.css/)

### 1.5.3、CSS3盒子模型

- 传统模式宽度计算：盒子的宽度 = CSS中设置的width + border + padding
- CSS3盒子模型：盒子的宽度 = CSS中设置的宽度width 里面包含了 border 和 padding

也就是说，我们的CSS3中的盒子模型， padding 和 border 不会撑大盒子了

~~~css
/*CSS3盒子模型*/
 box-sizing: border-box;
 /*传统盒子模型*/
 box-sizing: content-box;
~~~

传统orCSS3盒子模型？

- 移动端可以全部CSS3 盒子模型
- PC端如果完全需要兼容，我们就用传统模式，如果不考虑兼容性，我们就选择 CSS3 盒子模型

### 1.5.4、特殊样式

~~~css
/*CSS3盒子模型*/
 box-sizing: border-box;
 -webkit-box-sizing: border-box;
 /*点击高亮我们需要清除清除 设置为transparent 完成透明*/
 -webkit-tap-highlight-color: transparent;
 /*在移动端浏览器默认的外观在iOS上加上这个属性才能给按钮和输入框自定义样式*/
 -webkit-appearance: none;
 /*禁用长按页面时的弹出菜单*/
 img,a { -webkit-touch-callout: none; }
~~~



## 1.6、流式布局（百分比布局）

- 流式布局，就是百分比布局，也称非固定像素布局。
- 通过盒子的宽度设置成百分比来根据屏幕的宽度来进行伸缩，不受固定像素的限制，内容向两侧填充。
- 流式布局方式是移动web开发使用的比较常见的布局方式。

<img src="E:\笔记\图片\微信截图_20221118133655.png" style="zoom: 80%;" />

-  max-width 最大宽度 （max-height 最大高度）
- min-width 最小宽度 （min-height 最小高度）

~~~css
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        section {
            width: 100%;
            max-width: 980px;
            max-height: 320px;
            margin: 0 auto;
        }
        section div {
            float: left;
            width: 50%;
            height: 400px;
        }
        section div:nth-child(1) {
            
            background-color: pink;
        }
        section div:nth-child(2) {
            
            background-color: purple;
        }
    </style>
</head>
<body>
    <section>
        <div></div>
        <div></div>
    </section>
    
</body>
</html>
~~~

---





# 第二章、移动Web开发之flex布局

## 2.1、flex布局初体验

传统布局

- 兼容性好
- 布局繁琐
-  局限性，不能再移动端很好的布局

flex弹性布局

-  操作方便，布局极为简单，移动端应用很广泛
-  PC 端浏览器支持情况较差
- IE 11或更低版本，不支持或仅部分支持

### 2.1.1、搭建HTML结构

```html
<div>
 <span>1</span>
 <span>2</span>
 <span>3</span>
</div>
```

- 里面的3个span是行内元素

### 2.1.2、CSS样式

1.  span 直接给宽度和高度，背景颜色，还有蓝色边框
2.  给 div 只需要添加 “display：flex” 即可

![](E:\笔记\图片\微信截图_20230306202622.png)



## 2.2、flex布局原理

flex 是 flexible Box 的缩写，意为"弹性布局"，用来为盒状模型提供最大的灵活性，任何一个容器都可以 指定为 flex 布局。

- 当我们为父盒子设为 flex 布局以后，子元素的 float、clear 和 vertical-align 属性将失效。
- 伸缩布局 = 弹性布局 = 伸缩盒布局 = 弹性盒布局

采用 Flex 布局的元素，称为 Flex 容器（flex container），简称"容器"。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），简称"项目"

- 体验中 div 就是 flex父容器。
- 体验中 span 就是 子容器 flex项目
- 子容器可以横向排列也可以纵向排列

![](E:\笔记\图片\微信截图_20230306210821.png)

> 总结flex布局原理：就是通过给父盒子添加flex属性，来控制子盒子的位置和排列方式。



## 2.3、flex布局父项常见属性

### 2.3.1、常见父项属性

以下由6个属性是对父元素设置的

> - flex-direction：设置主轴的方向
> - justify-content：设置主轴上的子元素排列方式
> - flex-wrap：设置子元素是否换行
> - align-content：设置侧轴上的子元素的排列方式（多行）
> - align-items：设置侧轴上的子元素排列方式（单行）
> - flex-flow：复合属性，相当于同时设置了 flex-direction 和 flex-wrap
>

### 2.3.2、flex-direction 设置主轴的方向

#### 2.3.2.1、主轴与侧轴

在 flex 布局中，是分为主轴和侧轴两个方向，同样的叫法有：行和列、x轴和y轴

- 默认主轴方向就是x轴方向，水平向右
- 默认侧轴方向就是y轴方向，水平向下

![](E:\笔记\图片\微信截图_20230306212416.png)

#### 2.3.2.2、flex-direction 设置主轴的方向

属性值：

flex-direction 属性决定主轴的方向（即项目的排列方向）

> 注意： 主轴和侧轴是会变化的，就看 flex-direction 设置谁为主轴，剩下的就是侧轴。而我们的子元素是跟着主轴来排列的

| 属性值         | 说明           |
| -------------- | -------------- |
| row            | 默认值从左到右 |
| row-reverse    | 从右到左       |
| column         | 从上到下       |
| column-reverse | 从下到上       |



### 2.3.3、justify-content 设置主轴上的子元素排列方式

justify-content 属性定义了项目在主轴上的对齐方式

> 注意： 使用这个属性之前一定要确定好主轴是哪个

| 属性值        | 说明                                        |
| ------------- | ------------------------------------------- |
| flex-start    | 默认值 从头部开始 如果主轴是x轴，则从左到右 |
| flex-end      | 从尾部开始排列                              |
| center        | 在主轴居中对齐（如果主轴是x轴则 水平居中）  |
| space-around  | 平分剩余空间                                |
| space-between | 先两边贴边 再平分剩余空间（重要）           |



### 2.3.4、flex-wrap 设置子元素是否换行

默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，flex布局中默认是不换行的。

| 属性值   | 说明           |
| -------- | -------------- |
| nowrap   | 默认值，不换行 |
| ==wrap== | ==换行==       |



### 2.3.5、align-items 设置侧轴上的子元素排列方式（单行 ）

该属性是控制子项在侧轴（默认是y轴）上的排列方式 在子项为单项（单行）的时候使用

| 属性值     | 说明                     |
| ---------- | ------------------------ |
| flex-start | 从上到下                 |
| flex-end   | 从下到上                 |
| center     | 挤在一起居中（垂直居中） |
| stretch    | 拉伸 （默认值 ）         |



### 2.3.6、align-content 设置侧轴上的子元素的排列方式（多行）

设置子项在侧轴上的排列方式 并且只能用于子项出现 换行 的情况（多行），在单行下是没有效果的。

| 属性值        | 说明                                   |
| ------------- | -------------------------------------- |
| flex-start    | 默认值在侧轴的头部开始排列             |
| flex-end      | 在侧轴的尾部开始排列                   |
| center        | 在侧轴中间显示                         |
| space-around  | 子项在侧轴平分剩余空间                 |
| space-between | 子项在侧轴先分布在两头，再平分剩余空间 |
| stretch       | 设置子项元素高度平分父元素高度         |



### 2.3.7、align-content 和 align-items 区别

- align-items 适用于单行情况下， 只有上对齐、下对齐、居中和 拉伸
- align-content 适应于换行（多行）的情况下（单行情况下无效）， 可以设置 上对齐、 下对齐、居中、拉伸以及平均分配剩余空间等属性值。
- 总结就是单行找 align-items 多行找 align-content

![](E:\笔记\图片\微信截图_20230306214704.png)



### 2.3.8、flex-flow

flex-flow 属性是 flex-direction 和 flex-wrap 属性的复合属性

```html
flex-flow:row wrap;
```

